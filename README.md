# Embers

A social platform based on Elixir and Phoenix Framework

> **Warning**: the current frontend code is being refactored and it may break
> often. Backend code requires refactoring, as many parts of it are
> messy/undocumented.

> This was previously a spanish-only project, some parts may need to be
> translated to english.

## Getting started

### Requisites

- [Elixir](https://elixir-lang.org/) (and Erlang). Works fine with Elixir 1.11
  and OTP 23.
- [PostgreSQL](https://www.postgresql.org/)
- [NodeJS](https://nodejs.org)
- [Google Recaptcha](https://developers.google.com/recaptcha/) keys

If using docker-compose, only Google Recaptcha keys are needed.

### Backend

Before trying to compile Embers, a `config/ENV.secret.exs` file is needed. You
can find an example file for the `dev` environment in the `config` folder.

- Get dependencies with `mix deps.get`
- Copy static files with `cp -R assets/static priv`.\*
- Setup the database with `mix ecto.setup`. This will create the databse, run
  migrations and seed data.
- You can now run it with `mix phx.server` ot `iex -S mix phx.server`.

\* This step is needed because in order to inline svg files in templates,
`phoenix_inline_svg` needs them to be in `priv/static`, but svg files are also
loaded by the frontend code. This should be addressed in the future.

### Frontend

Source files for the frontend(js, scss, static files) live in the `/assets`
folder.

- Install dependencies with `npm install` | `yarn`.
- Build it with `npm run build` | `yarn build`, or `npm run dev` | `yarn dev` to
  run in watch mode.

After running these steps, the app should be accessible from
[`localhost:4000`](http://localhost:4000).

A default admin account is created with credentials `admin:yayapapaya`.

## Documentation

Documentation can be generated by running `mix docs`. After that, it will be available in the `doc` folder.

## License

Copyright (C) 2020 dorgandash+embers@gmail.com

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see <https://www.gnu.org/licenses/>.
